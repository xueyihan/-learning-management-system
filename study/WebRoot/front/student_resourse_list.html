<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<title>学生资源列表</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<!-- Le styles -->
<script type="text/javascript" src="assets/js/jquery.js"></script>

<link rel="stylesheet" href="assets/css/style.css">
<link rel="stylesheet" href="assets/css/loader-style.css">
<link rel="stylesheet" href="assets/css/bootstrap.css">

<script type="text/javascript" src="assets/js/preloader.js"></script>
<script type="text/javascript" src="assets/js/bootstrap.js"></script>
<script type="text/javascript" src="assets/js/app.js"></script>
<script type="text/javascript" src="assets/js/load.js"></script>
<script type="text/javascript" src="assets/js/main.js"></script>
<script type="text/javascript" src="../front/assets/js/jquery.min.js"></script>

<link rel="stylesheet" href="assets/css/mail.css">




<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
<!-- Fav and touch icons -->
<link rel="shortcut icon" href="assets/ico/minus.png">
</head>

<body>
	<div id="awwwards" class="right black">
		<a href="登录.html">best websites of the world</a>
	</div>
	<!-- Preloader -->
	<div id="preloader">
		<div id="status"></div>
	</div>
	<!-- TOP NAVBAR -->
	<nav role="navigation" class="navbar navbar-static-top">
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<div id="logo-mobile" class="visible-xs">
					<h1>学生首页</h1>
				</div>
			</div>


			<!-- Collect the nav links, forms, and other content for toggling -->
			<div id="bs-example-navbar-collapse-1"
				class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
				</ul>
				<div id="nt-title-container"
					class="navbar-left running-text visible-lg">
					<ul class="date-top">
						<li class="entypo-calendar" style="margin-right:5px"></li>
						<li id="Date"></li>
					</ul>

					<ul id="digital-clock" class="digital">
						<li class="entypo-clock" style="margin-right:5px"></li>
						<li class="hour"></li>
						<li>:</li>
						<li class="min"></li>
						<li>:</li>
						<li class="sec"></li>
						<li class="meridiem"></li>
					</ul>
					<ul id="nt-title">
						<li>&#160;&#160;2016&#160; &#160;秋季学期</li>
					</ul>

				</div>

				<ul style="margin-right:0;" class="nav navbar-nav navbar-right">
					<li><a data-toggle="dropdown" class="dropdown-toggle" href="#">
							<img alt="" class="admin-pic img-circle"
							src="http://api.randomuser.me/portraits/thumb/men/10.jpg">Hi,
							Dave Mattew <b class="caret"></b>
					</a>
						<ul style="margin-top:14px;" role="menu"
							class="dropdown-setting dropdown-menu">

						</ul></li>
					<li><a data-toggle="dropdown" class="dropdown-toggle" href="#">
							<span class="icon-gear"></span>&#160;&#160;Setting
					</a>
						<ul role="menu" class="dropdown-setting dropdown-menu">

							<li class="theme-bg">
								<div id="button-bg"></div>
								<div id="button-bg2"></div>
								<div id="button-bg3"></div>
								<div id="button-bg5"></div>
								<div id="button-bg6"></div>
								<div id="button-bg7"></div>
								<div id="button-bg8"></div>
								<div id="button-bg9"></div>
								<div id="button-bg10"></div>
								<div id="button-bg11"></div>
								<div id="button-bg12"></div>
								<div id="button-bg13"></div>
							</li>
						</ul></li>
					<li class="hidden-xs"><a class="toggle-left" href="#"> <span
							style="font-size:20px;" class="entypo-list-add"></span>
					</a></li>
				</ul>

			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container-fluid -->
	</nav>

	<!-- SIDE MENU -->
	<div id="skin-select">
		<div id="logo">
			<h1>学生课程资源</h1>
		</div>

		<a id="toggle"> <span class="entypo-menu"></span>
		</a>
		<div class="dark">
			<form action="#">
				<span> <input type="text" name="search" value=""
					class="search rounded id_search" placeholder="Search Menu..."
					autofocus="">
				</span>
			</form>
		</div>

		<div class="search-hover">
			<form id="demo-2">
				<input type="search" placeholder="Search Menu..." class="id_search">
			</form>
		</div>

		<div class="skin-part">
			<div id="tree-wrap">
				<div class="side-bar">
					<ul class="topnav menu-left-nest">

							<li>
								<a class="tooltip-tip ajax-load" href="student_course_info.html" title="Social">
									<i class="icon-feed"></i>
									<span>课程详情</span>

								</a>
							</li>
							<li>
								<a class="tooltip-tip ajax-load" href="student_homework_list.html" title="Social">
									<i class="icon-feed"></i>
									<span>作业</span>

								</a>
							</li>
							<li>
								<a class="tooltip-tip ajax-load" href="student_resourse_list.html" title="Social">
									<i class="icon-feed"></i>
									<span>资源</span>

								</a>
							</li>
							<li>
								<a class="tooltip-tip ajax-load" href="student_message_board.html" title="Social">
									<i class="icon-feed"></i>
									<span>留言板</span>

								</a>
							</li>
						</ul>

				</div>
			</div>
		</div>
	</div>
	<!-- END OF SIDE MENU -->



	<!--  PAPER WRAP -->
	<div class="wrap-fluid">
		<div class="container-fluid paper-wrap bevel tlbr">





			<!-- CONTENT -->
			<!--TITLE -->
			<div class="row">
				<div id="paper-top">
					<div class="col-sm-3">
						<h2 class="tittle-content-header">
							<i class="icon-user"></i> <span>课程 </span>
						</h2>

					</div>

					<div class="col-sm-7">
						<div class="devider-vertical visible-lg"></div>
						<div class="tittle-middle-header">

							<div class="alert">
								<button type="button" class="close" data-dismiss="alert">×</button>
								<span class="tittle-alert entypo-info-circled"></span> Welcome
								back,&nbsp; <strong>Dave mattew!</strong>&nbsp;&nbsp;Your last
								sig in at Yesterday, 16:54 PM
							</div>


						</div>

					</div>
					<div class="col-sm-2">
						<button class="btn btn btn-primary pull-right" type="submit"
							onclick="
                        ">登 出</button>


					</div>
				</div>
			</div>
			<!--/ TITLE -->

			<!-- BREADCRUMB -->


			<!-- END OF BREADCRUMB -->



			<div class="content-wrap">
				<div class="row">
					<!-- SIDEMENU MAIL -->

					<!-- /SIDEMENU MAIL -->
					<!-- CONTENT MAIL -->
					<div class="col-sm-10">
						<div id="content-mail">
							<div class="table-responsive">
								<!-- THE MESSAGES -->
								<table class="table table-mailbox" id="semester_table">
									<thead class="success">
										<tr>
											<th>资源名称</th>
											<th>上传时间</th>
											<th>下载</th>
										</tr>
									</thead>
									<tbody id="resource_table">

									</tbody>

								</table>
							</div>
							<!-- /.table-responsive -->


						</div>

					</div>
					<!-- /CONTENT MAIL -->
				</div>
			</div>

			<!--
            	作者：zby
            	时间：2016-07-10
            	描述：全选函数
            -->
			<script>
				function initTableCheckbox() {
					var $thr = $('table thead tr');
					var $checkAllTh = $('<th><input type="checkbox" id="checkAll" name="checkAll" /></th>');
					/*将全选/反选复选框添加到表头最前，即增加一列*/
					$thr.prepend($checkAllTh);
					/*“全选/反选”复选框*/
					var $checkAll = $thr.find('input');
					$checkAll.click(function(event) {
						/*将所有行的选中状态设成全选框的选中状态*/
						$tbr.find('input').prop('checked',
								$(this).prop('checked'));
						/*并调整所有选中行的CSS样式*/
						if ($(this).prop('checked')) {
							$tbr.find('input').parent().parent().addClass(
									'warning');
						} else {
							$tbr.find('input').parent().parent().removeClass(
									'warning');
						}
						/*阻止向上冒泡，以防再次触发点击操作*/
						event.stopPropagation();
					});
					/*点击全选框所在单元格时也触发全选框的点击操作*/
					$checkAllTh.click(function() {
						$(this).find('input').click();
					});
					var $tbr = $('table tbody tr');
					var $checkItemTd = $('<td><input type="checkbox" name="checkItem" /></td>');
					/*每一行都在最前面插入一个选中复选框的单元格*/
					$tbr.prepend($checkItemTd);
					/*点击每一行的选中复选框时*/
					$tbr
							.find('input')
							.click(
									function(event) {
										/*调整选中行的CSS样式*/
										$(this).parent().parent().toggleClass(
												'warning');
										/*如果已经被选中行的行数等于表格的数据行数，将全选框设为选中状态，否则设为未选中状态*/
										$checkAll
												.prop(
														'checked',
														$tbr
																.find('input:checked').length == $tbr.length ? true
																: false);
										/*阻止向上冒泡，以防再次触发点击操作*/
										event.stopPropagation();
									});
					/*点击每一行时也触发该行的选中操作*/
					$tbr.click(function() {
						$(this).find('input').click();
					});
				}
			</script>



			<!-- /END OF CONTENT -->



			<!-- FOOTER -->
			<div class="footer-space"></div>
			<div id="footer">
				<div class="devider-footer-left"></div>
				<div class="time">
					<p id="spanDate">
					<p id="clock">
				</div>
				<div class="copyright">
					Make with Love <span class="entypo-heart"></span>Collect from <a
						href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a>
					All Rights Reserved
				</div>
				<div class="devider-footer"></div>
			</div>
			<!-- / END OF FOOTER -->

		</div>
	</div>
	<!--  END OF PAPER WRAP -->

	<!-- RIGHT SLIDER CONTENT -->
	<!--<div class="sb-slidebar sb-right">-->
	<div class="right-wrapper">
		<div class="row">
			<h3>
				<span><i class="entypo-gauge"></i>&nbsp;&nbsp;MAIN WIDGET</span>
			</h3>
			<div class="col-sm-12">

				<div class="widget-knob">
					<span class="chart" style="position:relative" data-percent="86">
						<span class="percent"></span>
					</span>
				</div>
				<div class="widget-def">
					<b>Distance traveled</b> <br> <i>86% to the check point</i>
				</div>

				<div class="widget-knob">
					<span class="speed-car" style="position:relative" data-percent="60">
						<span class="percent2"></span>
					</span>
				</div>
				<div class="widget-def">
					<b>The average speed</b> <br> <i>30KM/h avarage speed</i>
				</div>


				<div class="widget-knob">
					<span class="overall" style="position:relative" data-percent="25">
						<span class="percent3"></span>
					</span>
				</div>
				<div class="widget-def">
					<b>Overall result</b> <br> <i>30KM/h avarage Result</i>
				</div>
			</div>
		</div>
	</div>

	<div style="margin-top:0;" class="right-wrapper">
		<div class="row">
			<h3>
				<span><i class="entypo-chat"></i>&nbsp;&nbsp;CHAT</span>
			</h3>
			<div class="col-sm-12">
				<span class="label label-warning label-chat">Online</span>
				<ul class="chat">
					<li><a href="#"> <span> <img alt=""
								class="img-chat img-circle"
								src="http://api.randomuser.me/portraits/thumb/men/20.jpg">
						</span><b>Dave Junior</b> <br>
						<i>Last seen : 08:00 PM</i>
					</a></li>
					<li><a href="#"> <span> <img alt=""
								class="img-chat img-circle"
								src="http://api.randomuser.me/portraits/thumb/men/21.jpg">
						</span><b>Kenneth Lucas</b> <br>
						<i>Last seen : 07:21 PM</i>
					</a></li>
					<li><a href="#"> <span> <img alt=""
								class="img-chat img-circle"
								src="http://api.randomuser.me/portraits/thumb/men/22.jpg">
						</span><b>Heidi Perez</b> <br>
						<i>Last seen : 05:43 PM</i>
					</a></li>


				</ul>

				<span class="label label-chat">Offline</span>
				<ul class="chat">
					<li><a href="#"> <span> <img alt=""
								class="img-chat img-offline img-circle"
								src="http://api.randomuser.me/portraits/thumb/men/23.jpg">
						</span><b>Dave Junior</b> <br>
						<i>Last seen : 08:00 PM</i>
					</a></li>
					<li><a href="#"> <span> <img alt=""
								class="img-chat img-offline img-circle"
								src="http://api.randomuser.me/portraits/thumb/women/24.jpg">
						</span><b>Kenneth Lucas</b> <br>
						<i>Last seen : 07:21 PM</i>
					</a></li>
					<li><a href="#"> <span> <img alt=""
								class="img-chat img-offline img-circle"
								src="http://api.randomuser.me/portraits/thumb/men/25.jpg">
						</span><b>Heidi Perez</b> <br>
						<i>Last seen : 05:43 PM</i>
					</a></li>
					<li><a href="#"> <span> <img alt=""
								class="img-chat img-offline img-circle"
								src="http://api.randomuser.me/portraits/thumb/women/25.jpg">
						</span><b>Kenneth Lucas</b> <br>
						<i>Last seen : 07:21 PM</i>
					</a></li>
					<li><a href="#"> <span> <img alt=""
								class="img-chat img-offline img-circle"
								src="http://api.randomuser.me/portraits/thumb/men/26.jpg">
						</span><b>Heidi Perez</b> <br>
						<i>Last seen : 05:43 PM</i>
					</a></li>


				</ul>
			</div>
		</div>
	</div>



	<!-- END OF RIGHT SLIDER CONTENT-->

	<!-- MAIN EFFECT -->
	<script type="text/javascript">
		$(function()//显示资源信息
		{
			var courseId = $.cookie("courseId");
			$.ajax({
				type : "post",
				url : "../resource/getResourceByCourseId.action",
				async : true,//异步 	
				data : {
					courseId : courseId,
				},
				success : function(data) {

					var resources = data.data.resources;

					for (var i = 0; i < resources.length; i++) {
						CreateTable(resources[i].resourceName,
								resources[i].resourceDate,
								resources[i].resourcePath, courseId);
					}

				},
				error : function(XMLHttpRequest, textStatus, errorThrown) {
					alert(XMLHttpRequest.status);
					alert(XMLHttpRequest.readyState);
					alert(textStatus);
				}
			});
			$("#logoutButton").click(function() {
				alert("Test");
				$.ajax({
					type : "post",
					url : "../user/logout.action",
					async : true,//异步
					data : {},
					success : function(data) {
						window.location.href = "login.html";
						$.cookie("username", "", {
							expires : -1
						});//删除一个cookie
					},
					error : function() {
						alert("出现异常!");
					}
				});
			});

		});
		function CreateTable(fileName, createDate, resourcePath, courseId)//循环创建课程详细信息表
		{
			var table = $("#resource_table");

			var tr = $("<tr></tr>");
			tr.appendTo(table);
			var td = $("<td>" + fileName + "</td>");
			td.appendTo(tr);
			var td = $("<td>" + createDate + "</td>");
			td.appendTo(tr);
			var td = $("<td><a href=\".." + resourcePath + "\">下载</a></td>");
			td.appendTo(tr);

			/* var td = $("<td><a href='.."+resourcePath+"'>下载</a></td>"; */
			td.appendTo(tr);

			td.appendTo(tr);
			tr.appendTo(table);

			$("#logoutButton").click(function() {
				alert("Test");
				$.ajax({
					type : "post",
					url : "../user/logout.action",
					async : true,//异步
					data : {},
					success : function(data) {
						window.location.href = "login.html";
						$.cookie("username", "", {
							expires : -1
						});//删除一个cookie
					},
					error : function() {
						alert("出现异常!");
					}
				});
			});
		}
		function sendCourseId(courseId)//将courseId传到session，并跳转
		{

		}
	</script>

</body>

</html>

